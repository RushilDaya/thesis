%% user name

    USER_NAME = 'SUBJECT2';
    METHOD    = 'FREQUENCYSWITCH'; % [ONOFF, PHASESWITCH, FREQUENCYSWITCH ]

%% define the experimental constants

TRIALS_PER_FREQUENCY = 10;
EVENTS_PER_TRIAL = 5;
EVENT_LENGTH_SECONDS = 1; 
FRAME_RATE = 120;
FREQUENCIES = [11, 13, 15]; 
TARGETS = [11,12,13;21,22,23;31,32,33];
TRAINING_TARGETS = [11;21;31];
SHOW_HEADER_SECONDS = 2;
SHOW_PAUSE_SECONDS = 2;
            

TRAINING_SECONDS = 5;
TRAININGS_PER_FREQUENCY = 4; 

%% call the appropriate run function

if strcmp(METHOD,'ONOFF')
    details = onOffStimulation(TRIALS_PER_FREQUENCY,EVENTS_PER_TRIAL, EVENT_LENGTH_SECONDS, FRAME_RATE, FREQUENCIES, TARGETS, SHOW_HEADER_SECONDS, SHOW_PAUSE_SECONDS);
elseif strcmp(METHOD, 'PHASESWITCH')
    details = phaseReversalStimulation(TRIALS_PER_FREQUENCY,EVENTS_PER_TRIAL, EVENT_LENGTH_SECONDS, FRAME_RATE, FREQUENCIES, TARGETS , SHOW_HEADER_SECONDS, SHOW_PAUSE_SECONDS);
elseif strcmp(METHOD, 'FREQUENCYSWITCH')
    details = frequencySwitchStimulation(TRIALS_PER_FREQUENCY,EVENTS_PER_TRIAL, EVENT_LENGTH_SECONDS, FRAME_RATE, FREQUENCIES, TARGETS, SHOW_HEADER_SECONDS, SHOW_PAUSE_SECONDS );
elseif strcmp(METHOD, 'TRAINING')
    details = training(FRAME_RATE, FREQUENCIES, TRAINING_SECONDS, TRAININGS_PER_FREQUENCY, TRAINING_TARGETS , SHOW_HEADER_SECONDS, SHOW_PAUSE_SECONDS);
end  

saveDetails(details,USER_NAME, METHOD);       
                         